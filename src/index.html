<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Karasek</title>
    <link rel="stylesheet" href="./assets/karasek.css">
    <script src="./assets/vue.global.js"></script>
    <script src="./assets/main.js" type="module"></script>
</head>
<body>
    <header>
        <h1>LES FACTEURS PSYCHOSOCIAUX AU TRAVAIL</h1>
        <h2>Évaluation par le questionnaire de Karasek</h2>
        <p>
            Les facteurs psychosociaux au travail sont des facteurs de risque reconnus pour la santé. 
            Le questionnaire de Karasek est un outil d’évaluation des facteurs psychosociaux au travail. 
            Ce questionnaire est une évaluation collective du bien être au travail qui permet d’ évaluer globalement la santé mentale au sein d’une entreprise.</p>
    </header>
    <main id="app">
        <section class="questionnaire">
            <h2>Questionnaire Karasek</h2>
                <div v-for="q of questions">
                    <fieldset class="question">
                        <legend>Question {{ q.id }}</legend>
                        <label>{{ q.question }}.</label>
                        <div v-for="a,idx of answersLabels">
                            <input type="radio" :name="q.id" v-model="q.score" :value="idx+1"> {{ idx+1 }} {{ a.label }}
                        </div>
                    </fieldset>
                </div>
                <div>
                    <button @click="check">Valider mes réponses</button>
                </div>
            </fieldset>
        </section>
        <section class="resultat" v-if="quiz != null">
            <h2>Résultats</h2>
            <article v-if="quiz.formulaireComplet()">
                <p>Autonomie: {{ quiz.autonomie }}</p>
                <p>Utilisation des compétences: {{ quiz.utilisationCompetences }}</p>
                <p>Autonomie décisionnelle: {{ quiz.autonomieDecisionnelle }}</p>
                <p>Demande psychologique: {{ quiz.demandePsychologique }}</p>
                <p>Soutien social: {{ quiz.soutienSocial }}</p>
            </article>
        </section>
    </main>
    <footer>

    </footer>
</body>
</html>